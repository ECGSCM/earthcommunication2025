# 要件定義書：施工事例サイトのNetlifyデプロイ

## 1. プロジェクト概要

### 目的
Earth Communication社の2025年施工事例（音響・映像設備導入実績）を紹介するWebサイトをNetlifyへデプロイし、公開する。

### 現状
- `/Users/cou/earthcommunication_施工事例/web_app`にReact + Viteアプリケーションが存在
- 施工事例データ：18件の事例情報が`src/data/cases.js`に定義済み
- 画像ファイル：18枚の施工事例画像が`public/images/`に配置済み
- ビルド環境：npm、Vite、React 19.2.0
- Netlify設定：`netlify.toml`が既に存在

## 2. 技術スタック

### フロントエンド
- **フレームワーク**: React 19.2.0
- **ビルドツール**: Vite 5.4.11
- **アニメーション**: Framer Motion 12.23.24
- **アイコン**: Lucide React 0.555.0
- **スタイリング**: CSS（カスタム）

### デプロイ環境
- **ホスティング**: Netlify
- **ビルドコマンド**: `npm run build`
- **出力ディレクトリ**: `dist`
- **SPAルーティング**: すべてのリクエストを`index.html`にリダイレクト

## 3. 施工事例データ構成

### カテゴリー
- **School（学校）**: FRA学校、信濃教育会、清水トキ学園
- **Kindergarten（幼稚園）**: カノッサ幼稚園、ルンビニ幼稚園、目黒幼稚園
- **Church（教会）**: 東中野教会
- **Museum（博物館）**: 横浜ラーメン博物館
- **Wedding（結婚式場）**: 水戸結婚式場
- **Event（イベント）**: とっとりおかやま物産展

### 画像サイズ
- 全18枚、合計約44MB
- JPEG形式、1.4MB〜3.9MB/枚

## 4. 成功基準

### 必須要件
1. ✅ アプリケーションがエラーなくビルドできること
2. ✅ Netlifyへ正常にデプロイできること
3. ✅ デプロイ後のURLでサイトが正常に表示されること
4. ✅ 全18件の施工事例が正しく表示されること
5. ✅ 画像が適切に読み込まれること
6. ✅ レスポンシブデザインが機能すること

### 確認項目
- カテゴリーフィルタリング機能が動作すること
- 画像モーダル（拡大表示）が動作すること
- ページのメタデータ（タイトル、description）が適切に設定されていること
- セキュリティヘッダーが正しく設定されていること

## 5. 制約条件

### 既存制約
- 既存のアプリケーション構造を維持すること
- 画像ファイルは既にコピー済み（追加作業不要）
- データ構造は既に定義済み（修正不要）

### Netlify制約
- 無料プランの場合、月間帯域幅100GB制限
- ビルド時間制限（通常は十分）
- 同時デプロイ数制限

## 6. 非機能要件

### パフォーマンス
- 初回ロード時間：3秒以内（目標）
- 画像の遅延読み込み実装済み
- 静的アセットのキャッシュ設定済み（1年）

### セキュリティ
- X-Frame-Options: DENY
- X-XSS-Protection: 1; mode=block
- X-Content-Type-Options: nosniff
- Referrer-Policy: strict-origin-when-cross-origin

### SEO
- 適切なメタタグ設定
- Google Fonts読み込み最適化
- 日本語コンテンツ対応

## 7. デプロイ方法の選択肢

### オプション1：Netlify CLI（推奨）
- コマンドラインからのデプロイ
- ローカルビルド→手動アップロード
- 即座にデプロイ可能

### オプション2：Git連携
- GitHubリポジトリと連携
- プッシュ時自動デプロイ
- 継続的デプロイ環境構築

### オプション3：ドラッグ&ドロップ
- Netlify UIでdistフォルダをアップロード
- 最もシンプル
- GUI操作

## 8. 前提条件

### 必要なツール
- Node.js（インストール済み）
- npm（インストール済み）
- Netlifyアカウント（作成が必要な可能性）
- Netlify CLI（必要に応じてインストール）

### 環境変数
- 現時点では環境変数は不要（静的サイト）
- APIキーなどのシークレット情報なし

## 9. リスクと対策

### リスク1：ビルドエラー
- **対策**: デプロイ前にローカルで`npm run build`を実行し、検証

### リスク2：画像表示の問題
- **対策**: 画像パスの検証、ビルド後のdistディレクトリ確認

### リスク3：Netlifyアカウント未作成
- **対策**: デプロイ方法の選択時にアカウント状況を確認

## 10. 次のステップ

要件定義完了後、以下のフェーズに進む：
1. **設計フェーズ**: デプロイ手順の詳細設計
2. **タスク化フェーズ**: 具体的な作業手順への分解
3. **実行フェーズ**: 実際のデプロイ作業

---

**作成日時**: 2025-11-27
**ステータス**: 完了
